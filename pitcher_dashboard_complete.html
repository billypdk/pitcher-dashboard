<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLB Pitcher Stats 2023-2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .info {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .team-filter {
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }
        
        .team-filter:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #764ba2;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-card .number {
            font-size: 28px;
            font-weight: bold;
        }
        
        .stat-card .label {
            font-size: 12px;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 13px;
        }
        
        thead {
            background: #f5f5f5;
            border-top: 2px solid #667eea;
            border-bottom: 2px solid #667eea;
            position: sticky;
            top: 0;
        }
        
        th {
            padding: 10px;
            text-align: left;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }
        
        th:hover {
            background: #e8e8e8;
        }
        
        th.sortable::after {
            content: ' ⇅';
            opacity: 0.5;
        }
        
        td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        tbody tr:hover {
            background: #f9f9f9;
        }
        
        .team {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
        }
        
        .team.free-agent {
            background: #999;
        }
        
        .number {
            text-align: right;
            font-family: 'Courier New', monospace;
        }
        
        .no-data {
            text-align: center;
            padding: 40px;
            color: #999;
        }
        
        .footer {
            text-align: center;
            color: #999;
            font-size: 12px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .table-wrapper {
            overflow-x: auto;
            max-height: 800px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>⚾ MLB Pitcher Statistics</h1>
        <div class="info">2023-2025 Pitch Velocity Data • All Years Included</div>
        
        <div class="stats" id="statsContainer"></div>
        
        <div class="controls">
            <input type="text" class="search-box" id="searchInput" placeholder="Search by player name...">
            <select class="team-filter" id="teamFilter">
                <option value="">All Teams</option>
            </select>
            <button class="btn" onclick="resetFilters()">Reset</button>
        </div>
        
        <div class="table-wrapper">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th class="sortable" onclick="sortTable('player')">Player Name</th>
                        <th class="sortable" onclick="sortTable('team')">Team</th>
                        <th class="sortable" onclick="sortTable('year')">Year</th>
                        <th class="sortable" onclick="sortTable('pitch_count')">Pitch Count</th>
                        <th class="sortable" onclick="sortTable('FB')">FB (Fastball)</th>
                        <th class="sortable" onclick="sortTable('SL')">SL (Slider)</th>
                        <th class="sortable" onclick="sortTable('CH')">CH (Changeup)</th>
                        <th class="sortable" onclick="sortTable('CB')">CB (Curveball)</th>
                        <th class="sortable" onclick="sortTable('SNK')">SNK (Sinker)</th>
                        <th class="sortable" onclick="sortTable('CUT')">CUT (Cutter)</th>
                        <th class="sortable" onclick="sortTable('SPLT')">SPLT (Split)</th>
                        <th class="sortable" onclick="sortTable('KN')">KN (Knuckleball)</th>
                        <th class="sortable" onclick="sortTable('SWP')">SWP (Sweeper)</th>
                        <th class="sortable" onclick="sortTable('SLV')">SLV (Slurve)</th>
                        <th class="sortable" onclick="sortTable('FRK')">FRK (Forkball)</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
        
        <div class="footer">
            Data sourced from Baseball Savant (2023-2025) • Updated January 27, 2026
        </div>
    </div>

    <script type="text/csv" id="csvData">Player Name,Team,year,pitch_count,FB,SL,CH,CB,SNK,CUT,SPLT,KN,SWP,SLV,FRK
"Abbott, Andrew",CIN,2025,2677,92.8,,84.8,81,,88.6,,,82.8,,
"Abbott, Andrew",CIN,2024,2333,92.8,85.1,84.8,80.8,,,,,82.9,,
"Abbott, Andrew",CIN,2023,1897,92.7,,86.6,80.9,92.5,,,,82.9,,
"Abreu, Albert",Free Agent,2023,1044,96.8,87.7,88.3,,97.4,,,,,,
"Abreu, Bryan",HOU,2025,1189,97.3,86.5,91.2,,96,,,,,,
"Abreu, Bryan",HOU,2024,1300,96.7,86.2,90,,96.4,,,,,,
"Abreu, Bryan",HOU,2023,1211,97.6,87.4,,81.1,97,,,,,,
"Adam, Jason",SD,2025,1087,94.6,83.9,88.2,,,85.9,,,77.5,,
"Adam, Jason",SD,2024,1109,95.5,84.3,89.5,,93.6,86.9,,,78.9,,
"Adam, Jason",SD,2023,906,94.6,83.8,89.6,,,,,,79,,
"Adon, Joan",Free Agent,2023,924,94.5,87.3,88.1,80.8,94.2,,,,,,
"Akin, Keegan",BAL,2025,1058,93.7,85.6,86.6,,,,,,,,
"Akin, Keegan",BAL,2024,1241,93.9,85.5,85.6,,,,,,,,
"Alcala, Jorge",Free Agent,2025,1058,97.4,89.9,90.5,85.4,96.8,,,,,,
"Alcala, Jorge",Free Agent,2024,931,98.1,89.9,91.1,,97.4,,,,,,
"Alcantara, Sandy",MIA,2025,2891,97.7,89.4,90.4,85.3,97.1,,,,,,
"Alcantara, Sandy",MIA,2023,2721,98,89.9,91.1,86.1,97.6,,,,,,
"Alexander, Jason",HOU,2025,1252,91.9,82.4,80.3,,90.9,87.2,,,78.5,,
"Alexander, Tyler",TEX,2025,1585,90.8,,83.3,,90.5,86.9,,,80.2,,
"Alexander, Tyler",TEX,2024,1668,89.6,77.8,81.3,,89.6,85,,,77.8,,
"Allard, Kolby",Free Agent,2025,1000,90.1,,81.4,72.1,90.6,84.9,,,,,
"Allen, Logan",CLE,2025,2709,91.2,,82.4,,89,85.6,,,78,,
"Allen, Logan",CLE,2024,1665,91.2,,81.7,,91.2,85.3,,,78.6,,
"Allen, Logan",CLE,2023,2134,91.4,83.6,82.7,,89.9,86.4,,,78.8,,
"Anderson, Chase",Free Agent,2024,1016,93.6,,83.9,78.9,92.8,88.8,,,80.5,,
"Anderson, Chase",Free Agent,2023,1447,93.3,83.8,83.9,77.6,92.9,89.2,,,80.5,,
"Anderson, Grant",MIL,2025,1158,93.5,,86.8,,93.2,,,,80.2,,
"Anderson, Justin",Free Agent,2024,945,96,85.6,,,94.8,92.4,,,,,
"Anderson, Tyler",Free Agent,2025,2339,89.3,80.7,78.7,69.2,88.5,84.4,,,,,
"Anderson, Tyler",Free Agent,2024,2914,89.5,81.4,78.9,71.6,88.1,84.3,,,,,
"Anderson, Tyler",Free Agent,2023,2431,90.1,79.3,80,72.9,88.5,85.1,,,,,
"Armstrong, Shawn",CLE,2025,1118,93.5,,,,94.1,90.8,,,85.1,84.6,
"Armstrong, Shawn",CLE,2024,1109,93.3,,,,93.6,90.5,,,85.2,83.6,
"Armstrong, Shawn",CLE,2023,797,94.5,,,,94.7,91.4,,,,85.2,
"Arrighetti, Spencer",HOU,2024,2505,94.1,82.9,85.5,78.4,94.1,88.1,,,80.8,,
"Ashby, Aaron",MIL,2025,1033,96.9,84.2,91.4,82.2,97.5,,,,,,
"Ashcraft, Braxton",PIT,2025,1102,97,92,91.6,84.3,96.6,,,,,,
"Ashcraft, Graham",CIN,2025,1039,,89.8,,,,97.1,,,,,
"Ashcraft, Graham",CIN,2024,1342,,88.4,91,,94.8,95.6,,,,,
"Ashcraft, Graham",CIN,2023,2324,96.5,88.3,90.4,,96.5,95.8,,,,,
"Assad, Javier",CHC,2024,2538,91.5,81.1,83.7,76.8,91.4,87.9,,,79.9,,
"Assad, Javier",CHC,2023,1710,93.1,81.6,85,76.5,92.7,89.1,,,80.2,,
"Avila, Pedro",Free Agent,2024,1419,93.4,83,83.4,77.6,93,,,,77.9,,
"Avila, Pedro",Free Agent,2023,895,94.1,,83.8,77.4,93.3,,,,79.7,,
    </script>
    <script>
        let allData = [];
        let filteredData = [];
        let currentSort = { column: 'player', direction: 'asc' };

        // CSV data embedded from Test Pitchers file
        const csvContent = document.querySelector('script#csvData').textContent.trim();

        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',');
            const data = [];
            
            for (let i = 1; i < lines.length; i++) {
                const line = lines[i];
                const values = [];
                let current = '';
                let inQuotes = false;
                
                for (let j = 0; j < line.length; j++) {
                    const char = line[j];
                    if (char === '"') {
                        inQuotes = !inQuotes;
                    } else if (char === ',' && !inQuotes) {
                        values.push(current.replace(/"/g, '').trim());
                        current = '';
                    } else {
                        current += char;
                    }
                }
                values.push(current.replace(/"/g, '').trim());
                
                const obj = {};
                headers.forEach((header, index) => {
                    obj[header] = values[index] || '';
                });
                
                data.push(obj);
            }
            
            return data;
        }

        function initializeData() {
            allData = parseCSV(csvContent);
            filteredData = [...allData];
            
            // Populate team filter
            const teams = [...new Set(allData.map(d => d.Team))].sort();
            const teamFilter = document.getElementById('teamFilter');
            teams.forEach(team => {
                const option = document.createElement('option');
                option.value = team;
                option.textContent = team;
                teamFilter.appendChild(option);
            });
            
            updateStats();
            renderTable();
            
            // Add event listeners
            document.getElementById('searchInput').addEventListener('input', applyFilters);
            document.getElementById('teamFilter').addEventListener('change', applyFilters);
        }

        function updateStats() {
            const stats = {
                total: filteredData.length,
                teams: new Set(filteredData.map(d => d.Team)).size,
                avgFastball: (filteredData.reduce((sum, d) => sum + (parseFloat(d.FB) || 0), 0) / filteredData.filter(d => d.FB).length).toFixed(1)
            };
            
            document.getElementById('statsContainer').innerHTML = `
                <div class="stat-card">
                    <div class="number">${stats.total}</div>
                    <div class="label">Pitcher Records</div>
                </div>
                <div class="stat-card">
                    <div class="number">${stats.teams}</div>
                    <div class="label">Teams</div>
                </div>
                <div class="stat-card">
                    <div class="number">${stats.avgFastball} mph</div>
                    <div class="label">Avg Fastball</div>
                </div>
            `;
        }

        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const teamFilter = document.getElementById('teamFilter').value;
            
            filteredData = allData.filter(row => {
                const playerMatch = row['Player Name'].toLowerCase().includes(searchTerm);
                const teamMatch = !teamFilter || row.Team === teamFilter;
                return playerMatch && teamMatch;
            });
            
            updateStats();
            renderTable();
        }

        function sortTable(column) {
            if (currentSort.column === column) {
                currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
            } else {
                currentSort.column = column;
                currentSort.direction = 'asc';
            }
            
            filteredData.sort((a, b) => {
                let aVal = column === 'player' ? a['Player Name'] : a[column];
                let bVal = column === 'player' ? b['Player Name'] : b[column];
                
                if (!isNaN(aVal) && !isNaN(bVal) && aVal !== '' && bVal !== '') {
                    aVal = parseFloat(aVal);
                    bVal = parseFloat(bVal);
                }
                
                if (currentSort.direction === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });
            
            renderTable();
        }

        function renderTable() {
            const tbody = document.getElementById('tableBody');
            
            if (filteredData.length === 0) {
                tbody.innerHTML = '<tr><td colspan="15" class="no-data">No pitchers found</td></tr>';
                return;
            }
            
            tbody.innerHTML = filteredData.map(row => {
                const teamClass = row.Team === 'Free Agent' ? 'free-agent' : '';
                return `
                    <tr>
                        <td>${row['Player Name']}</td>
                        <td><span class="team ${teamClass}">${row.Team}</span></td>
                        <td class="number">${row.year}</td>
                        <td class="number">${row.pitch_count}</td>
                        <td class="number">${row.FB || '-'}</td>
                        <td class="number">${row.SL || '-'}</td>
                        <td class="number">${row.CH || '-'}</td>
                        <td class="number">${row.CB || '-'}</td>
                        <td class="number">${row.SNK || '-'}</td>
                        <td class="number">${row.CUT || '-'}</td>
                        <td class="number">${row.SPLT || '-'}</td>
                        <td class="number">${row.KN || '-'}</td>
                        <td class="number">${row.SWP || '-'}</td>
                        <td class="number">${row.SLV || '-'}</td>
                        <td class="number">${row.FRK || '-'}</td>
                    </tr>
                `;
            }).join('');
        }

        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('teamFilter').value = '';
            applyFilters();
        }

        // Initialize on page load
        window.addEventListener('load', initializeData);
    </script>
</body>
</html>
